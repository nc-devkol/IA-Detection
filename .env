PROMPT: Verificar Cálculo del Score de Detección

Tengo un clasificador que predice comportamiento sospechoso. Necesito verificar que el score final se calcule EXACTAMENTE así:

ENTRADA AL CLASIFICADOR:
- Tensor de forma (1, 32, 34) con 32 frames de poses normalizadas

SALIDA DEL MODELO:
- El clasificador devuelve logits con forma (1, 2) - dos valores crudos

CÁLCULO DEL SCORE (4 PASOS):

1. CONVERTIR LOGITS A PROBABILIDAD:
Aplicar softmax a los logits para obtener probabilidades. Tomar el segundo valor (índice 1) que es la probabilidad de clase "sospechoso". Este valor está entre 0 y 1.

2. APLICAR SUAVIZADO EMA:
Calcular el score suavizado con esta fórmula exacta:
score_suavizado = 0.4 multiplicado por probabilidad_actual MÁS 0.6 multiplicado por score_anterior

El score_anterior la primera vez es cero. Esto se hace por cada persona individualmente.

3. COMPARAR CON UMBRAL:
Si score_suavizado es mayor o igual a 0.6: incrementar contador en 1
Si score_suavizado es menor a 0.6: poner contador en cero

4. EVALUAR ALERTA:
Si el contador llega a 10 o más: activar alerta

VERIFICAR EN MI CÓDIGO:
¿Se aplica softmax a los logits y se toma el índice 1?
¿Se usa 0.4 y 0.6 en el EMA?
¿Se resetea el contador a cero cuando baja de 0.6?
¿Se requieren 10 ventanas consecutivas para alertar?

Solo necesito confirmar que el cálculo del score siga estos 4 pasos exactamente.
